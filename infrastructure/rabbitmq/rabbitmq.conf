## RabbitMQ Configuration for Collector Platform

## Cluster configuration
# cluster_formation.peer_discovery_backend = classic_config
# cluster_formation.classic_config.nodes.1 = rabbit@rabbit1
# cluster_formation.classic_config.nodes.2 = rabbit@rabbit2

## Network
listeners.tcp.default = 5672
management.tcp.port = 15672

## Memory and Disk
vm_memory_high_watermark.relative = 0.6
disk_free_limit.absolute = 2GB

## Logging
log.console = true
log.console.level = info
log.file = false

## Management Plugin
management.rates_mode = basic
management.http_log_dir = /var/log/rabbitmq/access.log

## Performance
collect_statistics_interval = 5000

## Heartbeat
heartbeat = 60

## Default user/password (change in production!)
default_user = rabbitmq_user
default_pass = rabbitmq_pass_change_in_production
default_vhost = collector

## Queue master locator
queue_master_locator = min-masters

## Enable plugins
management.plugins.enable = rabbitmq_management
rabbitmq_prometheus.plugins.enable = rabbitmq_prometheus

## Default permissions (read, write, configure)
default_permissions.configure = .*
default_permissions.read = .*
default_permissions.write = .*

## Message durability
default_user_tags.administrator = true

## High availability
ha_promote_on_shutdown = when-synced
ha_promote_on_failure = when-synced

